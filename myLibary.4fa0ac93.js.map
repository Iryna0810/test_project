{"mappings":"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","sources":["node_modules/@swc/helpers/lib/_class_extract_field_descriptor.js","node_modules/@swc/helpers/lib/_class_apply_descriptor_get.js","node_modules/@swc/helpers/lib/_check_private_redeclaration.js","src/get_localstorage_info.js","node_modules/@swc/helpers/lib/_class_private_field_get.js","node_modules/@swc/helpers/lib/_class_private_field_init.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classExtractFieldDescriptor;\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classApplyDescriptorGet;\nfunction _classApplyDescriptorGet(receiver, descriptor) {\n    if (descriptor.get) {\n        return descriptor.get.call(receiver);\n    }\n    return descriptor.value;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _checkPrivateRedeclaration;\nfunction _checkPrivateRedeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\n","import axios from 'axios';\nimport { renderMarkup } from './render_markup';\n\n// import './js/render-markup.js';\nconst STORAGE_KEY_WATCH = 'watched_id';\nconst STORAGE_KEY_QUEUE = 'queue';\nconst queueButton = document.querySelector('.js_queue');\nconst watchedButton = document.querySelector('.js_watched');\nconst galleryFilms = document.querySelector('.gallery');\nconst nomoviesimages = document.querySelector('.img');\n\n const savedData = localStorage.getItem(STORAGE_KEY_WATCH);\n    \n    const filmData = JSON.parse(savedData);\n    console.log(filmData);\n\nconsole.log(nomoviesimages);\n\nconsole.log(galleryFilms);\nconsole.log(queueButton);\nconsole.log(watchedButton);\n\nclass ApiMovieSearch {\n  #BASE_URL = 'https://api.themoviedb.org/3/';\n  #API_KEY = '2bcb7fdd81c3309c5e646690433e3287';\n \n  constructor() {\n    this.page = 1;\n  }\n\n  async fetchMovies(film_Id) {\n    try {\n        return await axios.get(`https://api.themoviedb.org/3/movie/${film_Id}?api_key=${this.#API_KEY}`);\n        \n    } catch (err) {\n      throw new Error(err.message);\n    }\n  }\n}\n\nconst apiInfoMovies = new ApiMovieSearch();\n\n// function handleGetWatchedFilms() {\n//     galleryFilms.innerHTML = \"\";\n    \n//     const savedData = localStorage.getItem(STORAGE_KEY_WATCH);\n    \n//     const filmData = JSON.parse(savedData);\n\n//     if (filmData.length === 0) {\n//         nomoviesimages.classList.remove('is-hidden');\n//     }\n       \n    \n//         if (queueButton.classList.contains('is-active')) {\n//         queueButton.classList.remove('is-active');\n//         }\n//         watchedButton.classList.add('is-active');\n//         watchedButton.classList.add('btn-active');\n//        queueButton.classList.remove('btn-active');\n    \n//     let datagenre_ids = [];\n    \n//     let films = {\n//         results: [],\n//     };\n    \n//     if (filmData) {\n//             try {\n            \n//             // console.log(filmData);\n//             filmData.map((id) => {\n//                 apiInfoMovies\n//                     .fetchMovies(id)\n//                     .then(({ data }) => {\n//                         // console.log(data);\n//                         nomoviesimages.classList.add('is-hidden');\n//                         // data.genre_ids = data.genres;\n//                         datagenre_ids = data.genres.map(genre => genre.id);\n//                         data.genre_ids = datagenre_ids;\n//                         console.log(datagenre_ids)\n\n//                         films.results.push(data);\n//                         // console.log(films);\n                    \n//                         renderMarkup(films);\n                    \n//                         })\n//                     .catch(err => {\n//                         console.log(err)\n//                     })\n//             })\n//             }\n//         catch (error) {\n//             console.error(\"Get state error: \", error.message);\n//             }\n//         }\n// };\n\n// function handleGetQueueFilms() {\n//         galleryFilms.innerHTML = \"\";\n//         const savedData = localStorage.getItem(STORAGE_KEY_QUEUE);\n    \n//     if (watchedButton.classList.contains('is-active')) {\n//         watchedButton.classList.remove('is-active');\n//     }\n//     queueButton.classList.add('is-active');\n     \n//         let films = {\n//         results: [],\n//     };\n\n//     if (savedData) {\n//         try {\n//             const filmData = JSON.parse(savedData);\n//             console.log(filmData);\n            \n//             filmData.map((id) => {\n//                 apiInfoMovies\n//                     .fetchMovies(id)\n//                     .then(({ data }) => {\n//                         console.log(data);\n//                         data.genre_ids = data.genres;\n//                         films.results.push(data);\n//                         console.log(films);\n                    \n//                         renderMarkup(films);\n                    \n//                     })\n//                     .catch(err => {\n//                         console.log(err)\n//                     })\n//             })\n//         }\n//         catch (error) {\n//             console.error(\"Get state error: \", error.message);\n//     }\n//         }\n// };\n\n\nfunction handleGetWatchedFilms() {\n  galleryFilms.innerHTML = '';\n  \n    const savedData = localStorage.getItem(STORAGE_KEY_WATCH);\n    \n    const filmData = JSON.parse(savedData);\n    console.log(savedData);\n  \n    if (filmData === []) {\n        nomoviesimages.classList.remove('is-hidden');\n    }\n\n  if (queueButton.classList.contains('is-active')) {\n    queueButton.classList.remove('is-active');\n  }\n  watchedButton.classList.add('is-active');\n  watchedButton.classList.add('btn-active');\n  queueButton.classList.remove('btn-active');\n\n  let datagenre_ids = [];\n  let films = {\n    results: [],\n  };\n\n  if (filmData) {\n      try {\n          nomoviesimages.classList.add('is-hidden');\n       filmData.map(id => {\n        apiInfoMovies\n          .fetchMovies(id)\n          .then(({ data }) => {\n            datagenre_ids = data.genres.map(genre => genre.id);\n            data.genre_ids = datagenre_ids;\n            data.genres.map(genre => data.genre_ids.push(genre.id));\n            films.results.push(data);\n          })\n          .catch(err => {\n            console.log(err);\n          })\n          .finally(() => renderMarkup(films));\n      });\n    } catch (error) {\n      console.error('Get state error: ', error.message);\n    }\n  }\n}\n\nfunction handleGetQueueFilms() {\n  galleryFilms.innerHTML = '';\n\n  const savedData = localStorage.getItem(STORAGE_KEY_QUEUE);\n  const filmData = JSON.parse(savedData);\n\n      if (filmData.length === 0 || filmData === '') {\n        nomoviesimages.classList.remove('is-hidden');\n    }\n  \n    \n  if (watchedButton.classList.contains('is-active')) {\n    watchedButton.classList.remove('is-active');\n  }\n  queueButton.classList.add('is-active');\n  watchedButton.classList.remove('btn-active');\n  queueButton.classList.add('btn-active');\n\n  let datagenre_ids = [];\n  let films = {\n    results: [],\n  };\n\n  if (filmData) {\n    try {\n        filmData.map(id => {\n        apiInfoMovies\n          .fetchMovies(id)\n          .then(({ data }) => {\n            datagenre_ids = data.genres.map(genre => genre.id);\n            data.genre_ids = datagenre_ids;\n            data.genres.map(genre => data.genre_ids.push(genre.id));\n            films.results.push(data);\n            // console.log(films);\n          })\n          .catch(err => {\n            console.log(err);\n          })\n          .finally(() => renderMarkup(films));\n      });\n    } catch (error) {\n      console.error('Get state error: ', error.message);\n    }\n  }\n}\n\nwindow.addEventListener('load', handleGetWatchedFilms);\nwatchedButton.addEventListener('click', handleGetWatchedFilms);\nqueueButton.addEventListener('click', handleGetQueueFilms);\n\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classPrivateFieldGet;\nvar _classExtractFieldDescriptor = _interopRequireDefault(require(\"./_class_extract_field_descriptor\"));\nvar _classApplyDescriptorGet = _interopRequireDefault(require(\"./_class_apply_descriptor_get\"));\nfunction _classPrivateFieldGet(receiver, privateMap) {\n    var descriptor = (0, _classExtractFieldDescriptor).default(receiver, privateMap, \"get\");\n    return (0, _classApplyDescriptorGet).default(receiver, descriptor);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classPrivateFieldInit;\nvar _checkPrivateRedeclaration = _interopRequireDefault(require(\"./_check_private_redeclaration\"));\nfunction _classPrivateFieldInit(obj, privateMap, value) {\n    (0, _checkPrivateRedeclaration).default(obj, privateMap);\n    privateMap.set(obj, value);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n"],"names":["Object","defineProperty","module","exports","value","default","receiver","privateMap","action","has","TypeError","get","descriptor","call","obj","privateCollection","$bpxeT","parcelRequire","$37616d1d2d9e1de3$exports","$37616d1d2d9e1de3$var$_classExtractFieldDescriptor","$37616d1d2d9e1de3$var$_classApplyDescriptorGet","$37616d1d2d9e1de3$var$_interopRequireDefault","__esModule","$665bb80dc57e205a$exports","$665bb80dc57e205a$var$_checkPrivateRedeclaration","set","$9f4250d744a83173$var$STORAGE_KEY_WATCH","$9f4250d744a83173$var$queueButton","document","querySelector","$9f4250d744a83173$var$watchedButton","$9f4250d744a83173$var$galleryFilms","$9f4250d744a83173$var$nomoviesimages","$9f4250d744a83173$var$savedData","localStorage","getItem","$9f4250d744a83173$var$filmData","JSON","parse","console","log","$9f4250d744a83173$var$_BASE_URL","WeakMap","$9f4250d744a83173$var$_API_KEY","$9f4250d744a83173$var$apiInfoMovies","ApiMovieSearch","$parcel$interopDefault","this","page","key","film_Id","$2TvXO","mark","_callee","$dIxxU","concat","_this","Error","_ctx","t0","message","$9f4250d744a83173$var$handleGetWatchedFilms","innerHTML","savedData1","filmData1","classList","remove","contains","add","datagenre_ids","films","results","map","id","fetchMovies","then","param","data","genres","genre","genre_ids","push","catch","err","finally","$k1jMn","renderMarkup","error","window","addEventListener","savedData2","filmData2","length"],"version":3,"file":"myLibary.4fa0ac93.js.map"}