{"mappings":"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","sources":["node_modules/@swc/helpers/lib/_class_extract_field_descriptor.js","node_modules/@swc/helpers/lib/_class_apply_descriptor_get.js","node_modules/@swc/helpers/lib/_check_private_redeclaration.js","src/get_localstorage_info.js","node_modules/@swc/helpers/lib/_class_private_field_get.js","node_modules/@swc/helpers/lib/_class_private_field_init.js","src/genres.js","src/render_markup.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classExtractFieldDescriptor;\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classApplyDescriptorGet;\nfunction _classApplyDescriptorGet(receiver, descriptor) {\n    if (descriptor.get) {\n        return descriptor.get.call(receiver);\n    }\n    return descriptor.value;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _checkPrivateRedeclaration;\nfunction _checkPrivateRedeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\n","import axios from 'axios';\nimport { renderMarkup } from './render_markup';\n\n// import './js/render-markup.js';\nconst STORAGE_KEY_WATCH = 'watched_id';\nconst STORAGE_KEY_QUEUE = 'queu';\nconst queueButton = document.querySelector('.js_queue');\nconst watchedButton = document.querySelector('.js_watched');\nconst galleryFilms = document.querySelector('.galleryfilms-js');\nconst nomoviesimages = document.querySelector('.start');\n\nconsole.log(nomoviesimages);\n\nconsole.log(galleryFilms);\nconsole.log(queueButton);\nconsole.log(watchedButton);\n\nclass ApiMovieSearch {\n  #BASE_URL = 'https://api.themoviedb.org/3/';\n  #API_KEY = '2bcb7fdd81c3309c5e646690433e3287';\n \n  constructor() {\n    this.page = 1;\n  }\n\n  async fetchMovies(film_Id) {\n    try {\n        return await axios.get(`https://api.themoviedb.org/3/movie/${film_Id}?api_key=${this.#API_KEY}`);\n        \n    } catch (err) {\n      throw new Error(err.message);\n    }\n  }\n}\n\nconst apiInfoMovies = new ApiMovieSearch();\n\nfunction handleGetWatchedFilms() {\n        galleryFilms.innerHTML = \"\";\n        const savedData = localStorage.getItem(STORAGE_KEY_WATCH);\n\n        nomoviesimages.classList.remove('is-hidden');\n    \n        if (queueButton.classList.contains('is-active')) {\n        queueButton.classList.remove('is-active');\n        }\n        watchedButton.classList.add('is-active');\n        watchedButton.classList.add('btn-active');\n       queueButton.classList.remove('btn-active');\n    \n    let datagenre_ids = [];\n    \n    let films = {\n        results: [],\n    };\n            if (savedData) {\n            try {\n            const filmData = JSON.parse(savedData);\n            // console.log(filmData);\n            filmData.map((id) => {\n                apiInfoMovies\n                    .fetchMovies(id)\n                    .then(({ data }) => {\n                        // console.log(data);\n                        nomoviesimages.classList.add('is-hidden');\n                        // data.genre_ids = data.genres;\n                        datagenre_ids = data.genres.map(genre => genre.id);\n                        data.genre_ids = datagenre_ids;\n                        console.log(datagenre_ids)\n\n                        films.results.push(data);\n                        // console.log(films);\n                    \n                        renderMarkup(films); \n                    \n                        })                                 \n                    .catch(err => {\n                        console.log(err)\n                    })\n            })\n            }\n        catch (error) {\n            console.error(\"Get state error: \", error.message);\n            }\n        }        \n};\n\nfunction handleGetQueueFilms() {\n        galleryFilms.innerHTML = \"\";\n        const savedData = localStorage.getItem(STORAGE_KEY_QUEUE);\n    \n    if (watchedButton.classList.contains('is-active')) {\n        watchedButton.classList.remove('is-active');\n    }\n    queueButton.classList.add('is-active');\n     \n        let films = {\n        results: [],\n    };\n\n    if (savedData) {\n        try {\n            const filmData = JSON.parse(savedData);\n            console.log(filmData);\n            \n            filmData.map((id) => {\n                apiInfoMovies\n                    .fetchMovies(id)\n                    .then(({ data }) => {\n                        console.log(data);\n                        data.genre_ids = data.genres;\n                        films.results.push(data);\n                        console.log(films);\n                    \n                        renderMarkup(films);\n                    \n                    })\n                    .catch(err => {\n                        console.log(err)\n                    })\n            })\n        }\n        catch (error) {\n            console.error(\"Get state error: \", error.message);\n    }\n        }   \n};\n\nwindow.addEventListener('load', handleGetWatchedFilms);\nwatchedButton.addEventListener('click', handleGetWatchedFilms);\nqueueButton.addEventListener('click', handleGetQueueFilms);\n\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classPrivateFieldGet;\nvar _classExtractFieldDescriptor = _interopRequireDefault(require(\"./_class_extract_field_descriptor\"));\nvar _classApplyDescriptorGet = _interopRequireDefault(require(\"./_class_apply_descriptor_get\"));\nfunction _classPrivateFieldGet(receiver, privateMap) {\n    var descriptor = (0, _classExtractFieldDescriptor).default(receiver, privateMap, \"get\");\n    return (0, _classApplyDescriptorGet).default(receiver, descriptor);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classPrivateFieldInit;\nvar _checkPrivateRedeclaration = _interopRequireDefault(require(\"./_check_private_redeclaration\"));\nfunction _classPrivateFieldInit(obj, privateMap, value) {\n    (0, _checkPrivateRedeclaration).default(obj, privateMap);\n    privateMap.set(obj, value);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","export const genres = {\n  28: 'Action',\n  12: 'Adventure',\n  16: 'Animation',\n  35: 'Comedy',\n  80: 'Crime',\n  99: 'Documentary',\n  18: 'Drama',\n  10751: 'Family',\n  14: 'Fantasy',\n  36: 'History',\n  27: 'Horror',\n  10402: 'Music',\n  9648: 'Mystery',\n  10749: 'Romance',\n  878: 'Science Fiction',\n  10770: 'TV Movie',\n  53: 'Thriller',\n  10752: 'War',\n  37: 'Western',\n};","import { genres } from \"./genres\";\n\n export function renderMarkup(films) {\n  const createdElements = films.results\n    .map(film => {\n      if (film.genre_ids.length <= 2) {\n        const cardFilm = `\n      <div class=\"film-card\" data-id=${film.id}>\n        <img class=\"film-poster\" src=\"https://image.tmdb.org/t/p/w500${\n          film.poster_path\n        }\" alt=\"poster\">\n        <h2 class=\"film-title\">${film.original_title}</h2>\n        <div class=\"film-info\">\n        <span class=\"film-details\">${film.genre_ids\n          .map(id => genres[id])\n          .join(', ')} | ${film.release_date.substr(0, 4)}</span>\n        </div>\n      </div>`;\n        return cardFilm;\n      } else {\n        const cardFilm = `\n      <div class=\"film-card\" data-id=${film.id}>\n        <img class=\"film-poster\" src=\"https://image.tmdb.org/t/p/w500${\n          film.poster_path\n        }\" alt=\"poster\">\n        <h2 class=\"film-title\">${film.original_title}</h2>\n        <div class=\"film-info\">\n        <span class=\"film-details\">${film.genre_ids\n          .slice(0, 2)\n          .map(id => genres[id])\n          .join(', ')}, Other | ${film.release_date.substr(0, 4)}</span>\n        </div>\n      </div>`;\n        return cardFilm;\n      }\n    })\n    .join('');\n\n     const galleryFilms = document.querySelector('.galleryfilms-js');\n    //  renderMarkup();\n     console.log(galleryFilms);\n     galleryFilms.innerHTML = createdElements;\n     \n}"],"names":["Object","defineProperty","module","exports","value","default","receiver","privateMap","action","has","TypeError","get","descriptor","call","obj","privateCollection","$bpxeT","parcelRequire","$37616d1d2d9e1de3$exports","$37616d1d2d9e1de3$var$_classExtractFieldDescriptor","$37616d1d2d9e1de3$var$_classApplyDescriptorGet","$37616d1d2d9e1de3$var$_interopRequireDefault","__esModule","$665bb80dc57e205a$exports","$665bb80dc57e205a$var$_checkPrivateRedeclaration","set","$3ab579d7fa8070f9$export$be3a0ca764f9df2b","$e9333e5ea45e02ba$export$add40575555c273c","films","createdElements","results","map","film","genre_ids","length","concat","id","poster_path","original_title","join","release_date","substr","slice","galleryFilms","document","querySelector","console","log","innerHTML","$9f4250d744a83173$var$queueButton","$9f4250d744a83173$var$watchedButton","$9f4250d744a83173$var$galleryFilms","$9f4250d744a83173$var$nomoviesimages","$9f4250d744a83173$var$_BASE_URL","WeakMap","$9f4250d744a83173$var$_API_KEY","$9f4250d744a83173$var$apiInfoMovies","ApiMovieSearch","$parcel$interopDefault","this","page","key","film_Id","$2TvXO","mark","_callee","$dIxxU","_this","Error","_ctx","t0","message","$9f4250d744a83173$var$handleGetWatchedFilms","savedData","localStorage","getItem","classList","remove","contains","add","datagenre_ids","JSON","parse","fetchMovies","then","param","data","genres","genre","push","catch","err","error","window","addEventListener","filmData"],"version":3,"file":"index.427bca28.js.map"}